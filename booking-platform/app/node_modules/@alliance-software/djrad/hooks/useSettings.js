import { useContext } from 'react';
import { DjradContext } from '../site/components/context';

/**
 * Get the current djrad settings
 *
 * Djrad settings can be passed to `DjradProvider` on the `settings` prop.
 * @param defaults Any defaults to use if setting is not specified.
 * @returns {}
 *
 * @example
 * ```js
 * function DateFormatter({ value }) {
 *     const format = useSettings({ dateFormat: 'MMMM Do YYYY' }).dateFormat;
 *     return moment(value).format(format)
 * }
 * ```
 */
export default function useSettings(defaults = {}) {
    const { settings } = useContext(DjradContext) || {};
    return { ...defaults, ...settings };
}
