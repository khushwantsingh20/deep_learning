// @flow
import type { Model } from '../model/Model';
import type { ModelId } from '../model/types';
import useSite from './useSite';

/**
 * Get the underlying model class for either a record or a model registration id
 * @param modelOrRecordOrModelId Either a record, the registration id for a model or the model class itself
 * @returns The model class identified by `modelOrRecordOrModelId`
 *
 * @example
 * ```js
 * function List({ modelId }) {
 *     const model = useModelClass(modelId);
 *     return (
 *         <ul>
 *             <ModelFetchList model={model}>
 *                 {({ records }) => <li>{record.__str__}</li>}
 *             </ModelFetchList>
 *         </ul>
 *     );
 * }
 *
 * <List modelId="my_app.user" />
 * ```
 */
export default function useModelClass(
    modelOrRecordOrModelId: Class<Model> | ModelId | Model
): Class<Model> {
    const djradSite = useSite();
    return djradSite.getModelClass(modelOrRecordOrModelId);
}
