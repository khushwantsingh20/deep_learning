import { Typed } from 'typed-immutable';
import TypedField from 'alliance-redux-api/lib/Field';

export default TypedField(Typed.String, value => {
    // When a value on an existing record is loaded from the backend it is just a URL
    // to download the file. In these cases strip these values out when we serialize
    // the field - the only valid submission files are of type File. This prevents
    // the backend from complaining about a string being passed through.
    if (typeof value === 'string') {
        return undefined;
    }
    return value;
});
