// @flow
import React from 'react';
import moment from 'moment';
import DateTimeFormatter from '../../components/formatter/DateTimeFormatter';
import type { FormatterProps } from '../../components/formatter/types';
import DateTimeWidget from '../../components/form/widgets/DateTimeWidget';
import type { WidgetProps } from '../../components/form/FormField';
import DateField from './DateField';

export default class DateTimeField extends DateField {
    parse(value: any) {
        return moment.isMoment(value) ? value.format() : value;
    }

    format(value: any) {
        if (!value) {
            return null;
        }
        return moment(value);
    }

    getDefaultFormatter(props: FormatterProps) {
        return <DateTimeFormatter {...props} />;
    }

    getDefaultWidget(props: WidgetProps) {
        return <DateTimeWidget {...props} />;
    }
}
