// @flow
import React from 'react';
import Field from './Field';
import NumberWidget from '../../components/form/widgets/NumberWidget';
import type { WidgetProps } from '../../components/form/FormField';

/**
 * Decimal is represented (by default) as a String
 */
export default class DecimalField extends Field {
    parse(value: ?string): ?string {
        // Empty values should be treated as null, ie. the backend should receive a string
        // only if it represents a decimal, otherwise null to empty no value. A form on
        // initialization would have null for an empty field but if you entered a value into
        // it then remove it it would be an string - this forces it to be null.
        if (value === '') {
            return null;
        }
        return value;
    }

    getDefaultWidget(props: WidgetProps) {
        return <NumberWidget {...props} />;
    }
}
