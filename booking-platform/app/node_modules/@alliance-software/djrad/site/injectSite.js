// @flow
import * as React from 'react';
import hoistNonReactStatic from 'hoist-non-react-statics';
import useSite from '../hooks/useSite';

import Site from './Site';

export type InjectSiteProps = {
    djradSite: Site,
};

export default function injectSite<Props: {}>(
    Component: React.ComponentType<InjectSiteProps & Props>
): React.ComponentType<Props> {
    function EnhancedComponent(props: Props) {
        const site = useSite();
        return <Component {...props} djradSite={site} />;
    }
    hoistNonReactStatic(EnhancedComponent, Component);
    return EnhancedComponent;
}
