"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Numeric = exports.UUIDType = exports.Id = void 0;

var _uid = _interopRequireDefault(require("./uid"));

var _typedImmutable = require("typed-immutable");

/**
 * An ID type which is expected to be an integer > 0. Handles conversion of
 * strings to numbers.
 * @param  {Number|String} value
 * @return {Number}
 */
var Id = (0, _typedImmutable.Typed)('Id', function (value) {
  var v = Number(value);

  if (isNaN(v)) {
    return TypeError("\"".concat(value, "\" is not a number"));
  }

  if (v < 0) {
    return TypeError("\"".concat(value, "\" is < 0"));
  }

  return v;
});
exports.Id = Id;
var UUIDType = (0, _typedImmutable.Typed)('UUID', function (value) {
  return value || _uid["default"].v4();
});
exports.UUIDType = UUIDType;
var Numeric = (0, _typedImmutable.Typed)('Numeric', function (value) {
  var v = Number(value);

  if (isNaN(v)) {
    return TypeError("\"".concat(value, "\" is not a number"));
  }

  return v;
});
exports.Numeric = Numeric;